<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Viage Mais</title>
    <link rel="stylesheet" href="/css/estilo.css">
    <script>
        // Função para submeter o formulário de destinos
        function contratarSelecionados() {
            document.getElementById('destinos').submit();
            return false;
        }
    </script>
</head>
<body>
<div class="container">

    <!-- Título -->
    <div style="text-align: center; margin-bottom: 1rem;">
        <h1>Viaje Mais - Seu sonho começa aqui</h1>
    </div>

    <!-- Menu horizontal centralizado -->
    <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem;">
        <a href="/clientes/novo" class="botao-cadastro">Cadastrar Cliente</a>
        <a href="#" class="confirmar" onclick="return contratarSelecionados()">Contratar Selecionados</a>
        <a href="/contratacao/historico" class="botao-historico">Histórico de Contratações</a>
        <a href="/destinos" class="botao-destinos">Ver Destinos</a>
    </div>

    <!-- Lista de destinos -->
    <form id="destinos" action="/contratacao/selecionar" method="post">
		<div th:each="destino : ${destinos}" class="destino">
		  <label>
		    <input type="checkbox" name="destinosSelecionados"
		           th:value="${destino.id}">
		    <strong th:text="${destino.local}">Praia</strong>
		    – 
		    <span th:text="${destino.preco}" class="ptbr">100.00</span><small> a diária</small>
		  </label>
		  <p>
		    <strong>Categoria:</strong>
		    <span th:text="${destino.categoria}">Lazer</span>
		  </p>
		  <img th:src="${destino.imagemUrl}" alt="Imagem do destino">
		</div>
	   
        <div style="text-align: center; margin-top: 1rem;">
            <button type="submit" class="confirmar">Contratar selecionados</button>
        </div>
    </form>
</div>

<script>
  // formata todo elemento com classe `.ptbr` como número brasileiro
  document.querySelectorAll('.ptbr').forEach(el => {
    let num = parseFloat(el.textContent.replace(/\./g,'').replace(',','.'));
    if (!isNaN(num)) {
      el.textContent = num.toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
    }
  });
</script>

</body>
</html>
