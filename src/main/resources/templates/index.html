<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Viaje Mais</title>
    <link rel="stylesheet" th:href="@{/css/estilo.css}">
    <script>
        // Função para submeter o formulário de destinos
        function contratarSelecionados() {
            document.getElementById('destinos').submit();
            return false;
        }
    </script>
</head>
<body>
<div class="container">

    <!-- Título -->
    <div style="text-align: center; margin-bottom: 1rem;">
        <h1>Viaje Mais - Seu sonho começa aqui</h1>
    </div>

    <!-- Menu horizontal centralizado -->
    <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem;">
        <a th:href="@{/clientes/novo}" class="botao-cadastro">Cadastrar Cliente</a>
        <a href="#" class="confirmar" onclick="return contratarSelecionados()">Contratar Selecionados</a>
        <a th:href="@{/contratacao/historico}" class="botao-historico">Histórico de Contratações</a>
        <a th:href="@{/destinos}" class="botao-destinos">Destinos</a>
    </div>

    <!-- Lista de destinos -->
    <form id="destinos" th:action="@{/contratacao/selecionar}" method="post">
        <div th:each="destino : ${destinos}" class="destino">
            <label>
                <input type="checkbox" name="destinosSelecionados"
                       th:value="${destino.id}">
                <strong th:text="${destino.local}">Praia</strong>
                – 
                Preço: R$ 
                <span class="ptbr" th:attr="data-value=${destino.preco}"></span>
                <small> por diária</small>
            </label>
            <p>
                <strong>Categoria:</strong>
                <span th:text="${destino.categoria.nome}">Categoria</span>
            </p>
            <img th:src="${destino.imagemUrl}" alt="Imagem do destino">
        </div>
       
        <div style="text-align: center; margin-top: 1rem;">
        

		<!-- Botões no rodapé, centralizados e lado a lado -->
	    <div style="text-align: center; margin-top: 20px;">
	        <button type="button"
	                class="botao-voltar"
	                style="margin-right: 0.5rem;"
	                onclick="window.scrollTo(0,0);">
	            Voltar ao início desta página
	        </button>
        
            <button type="submit" 
                    class="confirmar">
                Contratar selecionados
            </button>
        </div>
    </form>
</div>

<script>
  // formata todo elemento com classe `.ptbr` para pt-BR (milhar ".", decimal ",")
  document.querySelectorAll('.ptbr').forEach(el => {
    const raw = el.getAttribute('data-value');
    const num = parseFloat(raw);
    if (!isNaN(num)) {
      el.textContent = num.toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
    }
  });
</script>
</body>
</html>
