<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Lista de Destinos</title>
    <link rel="stylesheet" href="/css/estilo.css">
</head>
<body>
<div class="container">
    <h1>Todos os Destinos Disponíveis</h1>
    
    <div th:each="destino : ${destinos}" class="destino">
        <h2 th:text="${destino.local}"></h2>
        <p><strong>Categoria:</strong> <span th:text="${destino.categoria}"></span></p>
        <p>
		Preço: R$ <span th:text="${destino.preco}" class="ptbr">100.00</span><small> a diária</small>
		</p>
        <img th:src="${destino.imagemUrl}" alt="Imagem do destino">
    </div>

    <div style="text-align: center; margin-top: 20px;">
	    <form action="/" method="get">
	        <button type="submit" class="voltar">Voltar à página inicial</button>
	    </form>
    </div>

</div>

<script>
  // formata todo elemento com classe `.ptbr` como número brasileiro
  document.querySelectorAll('.ptbr').forEach(el => {
    let num = parseFloat(el.textContent.replace(/\./g,'').replace(',','.'));
    if (!isNaN(num)) {
      el.textContent = num.toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
    }
  });
</script>
</body>
</html>
