<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todos os Destinos Disponíveis</title>
    <link rel="stylesheet" th:href="@{/css/estilo.css}">
</head>
<body>
<div class="container">
    <!-- Cabeçalho com título e botão “Voltar à página inicial” no canto superior direito -->
    <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h1 id="top">Todos os Destinos Disponíveis</h1>
        <form action="/" method="get" style="margin: 0;">
            <button type="submit" class="voltar">Voltar à página inicial</button>
        </form>
    </div>

    <div th:each="destino : ${destinos}" class="destino">
        <h2 th:text="${destino.local}">Local</h2>
        <p>
            <strong>Categoria:</strong>
            <span th:text="${destino.categoria}">Categoria</span>
        </p>
        <p>
            Preço: R$ 
            <span class="ptbr" th:attr="data-value=${destino.preco}"></span>
            <small> a diária</small>
        </p>
        <img th:src="${destino.imagemUrl}" alt="Imagem do destino">
    </div>

    <!-- Rodapé com os dois botões centralizados -->
    <div style="text-align: center; margin-top: 20px;">
        <button type="button"
                class="voltar"
                onclick="window.scrollTo(0,0);">
            Voltar ao início desta página
        </button>

        <form action="/" method="get" style="display: inline-block; margin-right: 0.5rem;">
            <button type="submit" class="voltar">Voltar à página inicial</button>
        </form>
    </div>
</div>

<script>
  // formata todo elemento com classe `.ptbr` como número brasileiro
  document.querySelectorAll('.ptbr').forEach(el => {
    const raw = el.getAttribute('data-value');
    const num = parseFloat(raw);
    if (!isNaN(num)) {
      el.textContent = num.toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
    }
  });
</script>
</body>
</html>
